{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
  <h1>Hello, {{ current_user.username }}!</h1>
  <h2>Your Schedules</h2>

  {% if schedules %}
    <div class="schedule-table">
      <div class="schedule-row header">
        <div class="schedule-cell">Title</div>
        <div class="schedule-cell">Time</div>
        <div class="schedule-cell">Text</div>
        <div class="schedule-cell">Actions</div>
      </div>
      {% for schedule in schedules %}
        <div class="schedule-row">
          <div class="schedule-cell">{{ schedule.title }}</div>
          <div class="schedule-cell">{{ schedule.time }}</div>
          <div class="schedule-cell">{{ schedule.text }}</div>
          <div class="schedule-cell">
            <form action="{{ url_for('delete_schedule', schedule_id=schedule.id) }}" method="POST">
              <button type="submit" class="btn btn-delete">Delete</button>
            </form>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>No schedules found.</p>
  {% endif %}

  <br>

  <a href="{{ url_for('scheduler') }}" class="btn btn-primary">Create a new schedule!</a>
  <br>
  <br>
  <a href="{{ url_for('logout') }}" class="btn btn-primary">Logout</a>
  <br>
{% endblock %}